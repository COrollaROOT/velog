<h1 id="개요">개요</h1>
<p>이미지를 다루기 위한 툴인 포토샵에는 레이어라는 개념이 존재한다.</p>
<p>이는 의도한 요소들을 하나의 그룹으로 묶은 다음 관리하기 위해 사용한다.</p>
<p>유니티에서 지원하는 렌더링 마스크 또한 비슷한 개념으로, 특정 분류로 구분된 오브젝트를 카메라에 적용되는 렌더링 대상으로 설정할 수 있고, 충돌 검사등에도 사용</p>
<h1 id="레이어마스크로-렌더링-대상-선택하기">레이어마스크로 렌더링 대상 선택하기</h1>
<p>레이어 마스크는 태그와 비슷하게 오브젝트들을 분류해 관리</p>
<p>이를 사용한다면 특정 오브젝트 분류에 대한 충돌처리, 그리고 선택적으로 미니맵에 표시되는 오브젝트들을 조정</p>
<ul>
<li><p>Cube, Sphere, Capsule 오브젝트 생성</p>
</li>
<li><p>인스펙터 창의 Layer 탭을 클릭, Add Layer 를 선택해 레이어 편집창에 진입</p>
</li>
<li><p>원하는 대로 레이어를 추가하고, 각 오브젝트에 맞게 레이어를 설정</p>
</li>
<li><p>Camera 컴포넌트의 Culling Mask 옵션에서 레이어를 선택 및 해제</p>
</li>
</ul>
<h1 id="비트-연산으로-레이어-제어하기">비트 연산으로 레이어 제어하기</h1>
<p>유니티에서 레이어마스크는 32개의 비트를 통해 스크립트에서 지정할 수 있다.</p>
<p>런타임중 레이어를 변경해야 할 경우 문자열로도 레이어마스크를 제어할 수 있지만, 당연히도 비트 연산을 사용하면 성능 면에서 이득을 볼 수 있다.</p>
<h2 id="비트-표현">비트 표현</h2>
<p>유니티에서 레이어마스크는 32자리의 이진법(Bit)을 통해 표현됩니다. 즉 32개의 레이어 마스크를 사용할 수 있으며, 예시로 다섯번째 레이어를 선택하고자 한다면 코드는 아래와 같이 작성합니다</p>
<pre><code>// 0, 어떤 레이어도 선택되지 않음
// 00000000000000000000000000000000
private int _layerMask = 0;

// 1을 좌측으로 0칸 이동, 즉 첫번째 레이어
// 00000000000000000000000000000001
private int _layerMask = (1 &lt;&lt; 0);

// 1을 좌측으로 4칸 이동, 즉 다섯번째 레이어
// 00000000000000000000000000010000
private int _layerMask = (1 &lt;&lt; 4);</code></pre><h2 id="비트-연산자">비트 연산자</h2>
<ul>
<li><p>| (or) : 이진법의 동일한 자리가 하나만 1이어도 1로 치환</p>
</li>
<li><p>&amp; (and) : 이진법의 동일한 자리가 둘 다 1이라면 1로 치환</p>
</li>
<li><p>~ (not) : 0과 1을 반전시킨다</p>
</li>
</ul>
<pre><code>OR 연산
둘중 하나라도 1이면 1
중첩하고 싶은 레이어를 더할 때 쓸 수 있음.
   ...1000 0000
OR ...0000 1000
---------------
=&gt; ...1000 1000

NOT 연산
뒤집어버림
       ...0101 0010
NOT =&gt; ...1010 1101

AND 연산
둘 다 1이어야 1이 나옴.
하나라도 0이면 0이 나온다.
    ...1010 0010
AND ...0010 0100
---------------
=&gt;  ...0010 0000</code></pre>